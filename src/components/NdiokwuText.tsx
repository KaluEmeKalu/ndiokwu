import React, { PropsWithChildren } from 'react';

const mapping: Record<string, string> = {
  // Standalone Vowels
  'a': '1',
  'e': '2',
  'i': '3',
  'ị': '4',
  'o': '5',
  'ọ': '6',
  'u': '7',
  'ụ': '8',

  // Consonants (standalone mappings)
  'b': '㗊',
  'ch': '嚬',
  'd': '囷',
  'f': '壿',
  'g': '奛',
  'gb': '妤',
  'gh': '孬',
  'gw': '尥',
  'h': '岿',
  'j': '帨',
  'k': '庋',
  'kp': '弿',
  'kw': '忸',
  'l': '恓',
  'm': '悆',
  'mb': '惸',
  'n': '慭',
  'nch': '懑',
  'nd': '戢',
  'ng': '扆',
  'ngw': '抟',
  'nj': '拃',
  'nk': '挹',
  'nkw': '捭',
  'ns': '摅',
  'nt': '撖',
  'nw': '擤',
  'ny': '斞',
  'nz': '旆',
  'p': '曷',
  'r': '朎',
  's': '栀',
  't': '桄',
  'v': '梒',
  'w': '棰',
  'y': '榱',
  'z': '樯',

  // Consonant + Vowel combinations (must come after standalone consonants)
'ba': '㗊',
'be': '抜',
'bi': '悘',
'bị': '匠',
'bo': '漸',
'bọ': '孔',
'bu': '谭',
'bụ': '樿',
'cha': '嚬',
'che': '淜',
'chi': '䘺',
'chị': '䋳',
'cho': '熢',
'chọ': '霸',
'chu': '嘇',
'chụ': '軕',
'da': '囷',
'de': '䧥',
'di': '狕',
'dị': '諟',
'do': '秶',
'dọ': '縻',
'du': '弽',
'dụ': '蜷',
'fa': '壿',
'fe': '䡕',
'fi': '籐',
'fị': '綶',
'fo': '蚨',
'fọ': '嗖',
'fu': '關',
'fụ': '腍',
'ga': '奛',
'ge': '茦',
'gi': '㫳',
'gị': '惵',
'go': '㩽',
'gọ': '鏴',
'gu': '䐸',
'gụ': '挝',
'gba': '妤',
'gbe': '䎎',
'gbi': '羕',
'gbị': '嘵',
'gbo': '适',
'gbọ': '镧',
'gbu': '䚉',
'gbụ': '䗶',
'gha': '孬',
'ghe': '彥',
'ghi': '瀤',
'ghị': '漘',
'gho': '韑',
'ghọ': '䒾',
'ghu': '紤',
'ghụ': '徿',
'gwa': '尥',
'gwe': '郰',
'gwi': '鬘',
'gwị': '蓠',
'gwo': '唼',
'gwọ': '赊',
'gwu': '䱦',
'gwụ': '㩦',
'ha': '岿',
'he': '臊',
'hi': '幊',
'hị': '䪃',
'ho': '鞅',
'họ': '䥲',
'hu': '飪',
'hụ': '騟',
'ja': '帨',
'je': '霾',
'ji': '嬡',
'jị': '矗',
'jo': '廫',
'jọ': '癮',
'ju': '伧',
'jụ': '㬒',
'ka': '庋',
'ke': '㙕',
'ki': '鮀',
'kị': '持',
'ko': '愐',
'kọ': '鸰',
'ku': '簂',
'kụ': '䉔',
'kpa': '弿',
'kpe': '乙',
'kpi': '乚',
'kpị': '乛',
'kpo': '乜',
'kpọ': '九',
'kpu': '乞',
'kpụ': '也',
'kwa': '忸',
'kwe': '䴡',
'kwi': '䇝',
'kwị': '䵪',
'kwo': '弸',
'kwọ': '毩',
'kwu': '㥼',
'kwụ': '鑢',
'la': '恓',
'le': '㚇',
'li': '㥍',
'lị': '箊',
'lo': '㧉',
'lọ': '㝓',
'lu': '呟',
'lụ': '愑',
'ma': '悆',
'me': '垊',
'mi': '㱒',
'mị': '喽',
'mo': '鹃',
'mọ': '㠠',
'mu': '㲧',
'mụ': '溰',
'mba': '惸',
'mbe': '騪',
'mbi': '漫',
'mbị': '㧪',
'mbo': '趀',
'mbọ': '烳',
'mbu': '鼤',
'mbụ': '饼',
'na': '慭',
'ne': '尧',
'ni': '㘛',
'nị': '疕',
'no': '觽',
'nọ': '熨',
'nu': '娪',
'nụ': '髩',
'ncha': '懑',
'nche': '栞',
'nchi': '谦',
'nchị': '㖜',
'ncho': '染',
'nchọ': '襶',
'nchu': '照',
'nchụ': '吡',
'nda': '戢',
'nde': '歆',
'ndi': '殪',
'ndị': '氅',
'ndo': '湓',
'ndọ': '潋',
'ndu': '瀣',
'ndụ': '灞',
'nga': '扆',
'nge': '鎘',
'ngi': '镡',
'ngị': '哐',
'ngo': '垺',
'ngọ': '橪',
'ngu': '畧',
'ngụ': '鶤',
'ngwa': '抟',
'ngwe': '蘡',
'ngwi': '穊',
'ngwị': '顠',
'ngwo': '髽',
'ngwọ': '蒐',
'ngwu': '锋',
'ngwụ': '灢',
'nja': '拃',
'nje': '崹',
'nji': '䖎',
'njị': '鑚',
'njo': '至',
'njọ': '邕',
'nju': '淔',
'njụ': '䇮',
'nka': '挹',
'nke': '穆',
'nki': '筱',
'nkị': '桸',
'nko': '罫',
'nkọ': '跾',
'nku': '觌',
'nkụ': '雐',
'nkwa': '捭',
'nkwe': '搚',
'nkwi': '䜴',
'nkwị': '柑',
'nkwo': '喪',
'nkwọ': '濨',
'nkwu': '杇',
'nkwụ': '錹',
'nsa': '摅',
'nse': '㻞',
'nsi': '妣',
'nsị': '欈',
'nso': '謏',
'nsọ': '鯶',
'nsu': '瞝',
'nsụ': '徐',
'nta': '撖',
'nte': '䰟',
'nti': '理',
'ntị': '眘',
'nto': '䑍',
'ntọ': '檊',
'ntu': '峹',
'ntụ': '郼',
'nwa': '擤',
'nwe': '鑌',
'nwi': '蒵',
'nwị': '爾',
'nwo': '诶',
'nwọ': '踷',
'nwu': '詖',
'nwụ': '硞',
'nya': '斞',
'nye': '緄',
'nyi': '崄',
'nyị': '砇',
'nyo': '湃',
'nyọ': '渞',
'nyu': '䨿',
'nyụ': '疚',
'nza': '旆',
'nze': '龕',
'nzi': '㱔',
'nzị': '鋹',
'nzo': '飃',
'nzọ': '廄',
'nzu': '矁',
'nzụ': '串',
'pa': '曷',
'pe': '埏',
'pi': '棳',
'pị': '䫞',
'po': '絅',
'pọ': '鱻',
'pu': '馪',
'pụ': '䏬',
'ra': '朎',
're': '櫜',
'ri': '疒',
'rị': '靫',
'ro': '圕',
'rọ': '誠',
'ru': '䝶',
'rụ': '璕',
'sa': '栀',
'se': '煜',
'si': '牾',
'sị': '汗',
'so': '犇',
'sọ': '猊',
'su': '琊',
'sụ': '瘳',
'ta': '桄',
'te': '㲵',
'ti': '踂',
'tị': '懈',
'to': '埵',
'tọ': '鰮',
'tu': '務',
'tụ': '蔫',
'va': '梒',
've': '㽃',
'vi': '埁',
'vị': '嚿',
'vo': '䬏',
'vọ': '竽',
'vu': '㰦',
'vụ': '覆',
'wa': '棰',
'we': '轆',
'wi': '雔',
'wị': '咏',
'wo': '窡',
'wọ': '蝰',
'wu': '䭤',
'wụ': '弝',
'ya': '榱',
'ye': '㢞',
'yi': '簌',
'yị': '軖',
'yo': '鬓',
'yọ': '谕',
'yu': '䛠',
'yụ': '鏿',
'za': '樯',
'ze': '瘜',
'zi': '谰',
'zị': '檗',
'zo': '㘁',
'zọ': '舣',
'zu': '璢',
'zụ': '䒁'
};

// Sort keys by length (longest first) to ensure proper matching
const sortedKeys = Object.keys(mapping).sort((a, b) => b.length - a.length);

const transformText = (input: string): string => {
  let result = '';
  let i = 0;

  while (i < input.length) {
    let matched = false;

    for (const key of sortedKeys) {
      if (input.startsWith(key, i)) {
        result += mapping[key];
        i += key.length;
        matched = true;
        break;
      }
    }

    if (!matched) {
      // If no match found, keep the original character
      result += input[i];
      i++;
    }
  }

  return result;
};

export const NdiokwuText: React.FC<PropsWithChildren> = ({ children }) => {
  const text = typeof children === 'string' ? children : '';
  const transformed = transformText(text);

  return (
    <div style={{ fontFamily: 'Ndiokwu, sans-serif', }}>
      {transformed}
    </div>
  );
};

export default NdiokwuText;